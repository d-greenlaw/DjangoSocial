{% extends 'theapp/base.html' %}
{% load static %}
{% block title %} DjangoSocial | Messages {% endblock title %}
{% block content %}

<div class="container">
   <div class="row">
      <div class="col-sm-12">
         <div class="card">
            <div class="card-body chat-page p-0">
               <div class="chat-data-block">
                  <div class="row">
                     <div class="col-lg-3 chat-data-left scroller">
                        <div class="chat-search pt-3 ps-3">
                           <div class="d-flex align-items-center">
                              <div class="chat-profile me-3">
                                 <img src="/media/{{user.profile_photo}}" alt="chat-user" class="avatar-60 ">
                              </div>
                              <div class="chat-caption">
                                 <h5 class="mb-0">{{user.handle}}</h5>
                                 <p class="m-0">{{user.country}}</p>
                              </div>
                              <button type="submit" class="close-btn-res p-3"><i class="ri-close-fill"></i></button>
                           </div>
                        </div>
                        <div class="chat-sidebar-channel scroller mt-4 ps-3">
                           <h5 class="mt-3">Chatting With</h5>
                           <ul class="iq-chat-ui nav flex-column nav-pills" id="friend-list-box">
                              <!-- AJAX Goes Here -->
                           </ul>
                        </div>
                     </div>
                     <div class="col-lg-9 chat-data p-0 chat-data-right">
                        <div class="tab-content">
                           <div class="tab-pane fade  active show" id="chatbox" role="tabpanel">
                              <div class="chat-head">
                                 <header
                                    class="d-flex justify-content-between align-items-center bg-white pt-3 pe-3 pb-3">
                                    <div class="d-flex align-items-center">
                                       <div class="sidebar-toggle">
                                          <i class="ri-menu-3-line"></i>
                                       </div>
                                       <div class="avatar chat-user-profile m-0 me-3">
                                          <img id="chatting-with-photo" src="" alt="avatar" class="avatar-50 ">
                                          <!-- AJAX Goes Here -->
                                       </div>
                                       <h5 id="chatting-with-handle" class="mb-0"><!-- AJAX Goes Here --></h5>
                                    </div>
                                 </header>
                              </div>
                              <div class="chat-content scroller" id="messages-box">
                                 <!-- AJAX Goes Here -->
                              </div>
                              <div class="chat-footer p-3 bg-white">
                                 <form class="d-flex align-items-center" action="#" id="create-message-form">
                                    <div class="chat-attagement d-flex">
                                       <a href="#"><i class="msg-emoji-btn far fa-smile pe-3"
                                             aria-hidden="true"></i></a>
                                    </div>
                                    <input currently-messaging="" id="create-message-input" type="text"
                                       class="form-control me-3" placeholder="Type your message">
                                    <button type="submit" class="btn btn-primary d-flex align-items-center px-2"><i
                                          class="far fa-paper-plane" aria-hidden="true"></i><span
                                          class="d-none d-lg-block ms-1">Send</span></button>
                                 </form>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>

<script src="{% static 'js/custom/common/csrf.js' %}"></script>
<script src="{% static 'js/custom/message-thread.js' %}"></script>
<!-- Emoji Picker -->
<!-- https://github.com/woody180/vanilla-javascript-emoji-picker -->
<script src="{% static 'js/vendor/vanillaEmojiPicker.js' %}"></script>
<script>
   new EmojiPicker({
      trigger: [
         {
            selector: '.msg-emoji-btn',
            insertInto: '#create-message-input'
         }
      ],
      closeButton: true,
      //specialButtons: green
   });
</script>

{% endblock content %}